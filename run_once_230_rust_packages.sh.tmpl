#!/bin/bash -e

if [[ -n "${DRY_RUN}" && "${DRY_RUN}" == true ]]; then
  echo "SKIP_PACKAGES_RUST: $DRY_RUN"
  exit 0
fi

{{ if (and (eq .chezmoi.os "linux") (not .codespaces)) -}}
  CARGO_BIN="$HOME/.cargo/bin/cargo"
{{ else -}}
  CARGO_BIN="cargo"
{{ end -}}

# install Rust global packages
"$CARGO_BIN" install \
  dotenv-linter \
  hexyl \
  petname
